---
type: "always_apply"
---

# 任务管理规则

## 自动任务拆解

当收到复杂任务时（涉及多个步骤、多个文件、或需要超过 30 分钟完成的任务），必须：

1. **规划阶段**
   - 使用 `plan_task` 获取任务规划指导
   - 使用 `analyze_task` 分析技术可行性

2. **拆分阶段**
   - 使用 `split_tasks` 将任务拆分成独立子任务
   - 每个子任务应在 1-2 小时内可完成
   - 明确子任务之间的依赖关系

3. **执行阶段**
   - 使用 `execute_task` 获取每个子任务的执行指导
   - 按依赖顺序逐个执行
   - 完成后使用 `verify_task` 验证

4. **跟踪阶段**
   - 使用 `list_tasks` 查看进度
   - 及时更新任务状态

## 判断标准

以下情况视为"复杂任务"：
- 需要修改 3 个以上文件
- 涉及新功能开发
- 需要重构现有代码
- 涉及多个模块协作
- 用户明确要求"规划"或"拆分"

## Desktop Commander 使用

当需要文件操作时，优先使用 Desktop Commander：
- `read_file` 读取文件
- `write_file` 写入文件
- `list_directory` 浏览目录
- `start_search` 搜索文件内容
- `edit_block` 精确编辑

